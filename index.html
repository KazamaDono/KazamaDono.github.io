<!DOCTYPE html>
<html lang="en">
<head>
  <!--
    ===========================================
    MY HUB — Binary DNA + Cursor Orbit Template
    ===========================================
    Features:
    - Endless binary DNA double-helix (center, ultra-light gray) with 3D-ish depth,
      slow upward motion, and constant bit flipping.
    - Binary ring orbiting the cursor, follows mouse, animates its own rotation
      and character flipping (0 <-> 1).
    - Layout inspired by the referenced sites:
        * Left: nav / link blocks
        * Center: hero (DNA canvas)
        * Right: tall panel for profile + bio
        * Below: sections (About, Projects, Testimonials, Contact)
    - Accessibility: prefers-reduced-motion respected, focus rings, semantic markup.
    - Responsiveness: scales down to mobile; helix adapts; nav collapses.
    - Utilities: theme toggle (dark/light), keyboard shortcuts, scroll-to, observers.
    - Performance: throttled resize, pooled char glyphs, single RAF loops.

    Save as index.html. No external JS required.

    Tip: Replace placeholder text, links, and images with your own.
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spectra Hub</title>
  <link rel="icon" type="image/png" href="spectra.png">
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0b0b0c" />

  <!-- Optional: Orbitron as a web-safe-ish stand-in for Bank Gothic.
       If you have "Bank Gothic" files, replace the @font-face below or
       install locally and keep font-family: 'Bank Gothic'. -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ===========================================================
       CSS RESET (minimal + sensible)
       =========================================================== */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;line-height:1.55;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    img,svg,video,canvas,audio,iframe,embed,object{display:block;max-width:100%}
    button,input,select,textarea{font:inherit}
    a{color:inherit}

    /* ===========================================================
       THEME + TOKENS
       =========================================================== */
    :root{
      --bg:#0a0a0a;
      --bg-2:#0f0f12;
      --panel:#101014;
      --panel-2:#14161a;
      --ink:#e8e8ea;
      --muted:#a9a9af;
      --line:#1e1f24;
      --accent:#8B0000; /* Dark Red */
      --accent-2:#a01414;
      --shadow:0 10px 30px rgba(0,0,0,.5);
      --ring:0 0 0 2px var(--accent);
      --radius:14px;
      --radius-sm:10px;
      --radius-xs:8px;
      --trans:200ms cubic-bezier(.2,.8,.2,1);
      --mono:'Courier New', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      --bank:'Bank Gothic','Orbitron',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      --body:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }

    [data-theme="light"]{
      --bg:#f9fafb;
      --bg-2:#ffffff;
      --panel:#ffffff;
      --panel-2:#f1f5f9;
      --ink:#0b0b0c;
      --muted:#374151;
      --line:#e5e7eb;
      --shadow:0 10px 25px rgba(0,0,0,.08);
    }

    html{scroll-behavior:smooth}

    /* ===========================================================
       LAYOUT FRAME
       =========================================================== */
    body{
      background:linear-gradient(180deg,var(--bg),var(--bg-2));
      color:var(--ink);
      font-family:var(--body);
      min-height:100%;
    }

    .frame{
      display:grid;
      grid-template-columns: clamp(220px,20vw,320px) 1fr clamp(260px,22vw,360px);
      grid-template-rows: auto;
      gap:0;
      position:relative;
      min-height:100vh;
    }

    /* LEFT NAV / LINKS */
    .rail{
      position:sticky; top:0; align-self:start; height:100vh;
      border-right:1px solid var(--line);
      background:linear-gradient(180deg,var(--panel),var(--panel-2));
      padding:28px 18px;
      display:flex; flex-direction:column; gap:14px; justify-content:flex-start;
    }
    .brand{
      display:flex; align-items:center; gap:10px; margin-bottom:10px;
      user-select:none;
    }
    .brand .dot{width:12px;height:12px;border-radius:999px;background:var(--accent);box-shadow:0 0 18px var(--accent)}
    .brand h1{font:600 18px/1 var(--bank);letter-spacing:.12em;margin:0;color:var(--accent)}
    .rail .hint{font-size:12px;color:var(--muted);margin:0 0 14px}

    .links{display:flex;flex-direction:column;gap:10px}
    .link{
      padding:12px 12px;border:1px solid var(--line);
      background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.06));
      border-radius:var(--radius-sm); cursor:pointer; position:relative; overflow:hidden;
      transition:transform var(--trans), border-color var(--trans), background var(--trans);
    }
    .link:hover{transform:translateY(-1.5px);border-color:rgba(139,0,0,.55)}
    .link h3{font:600 14px/1.3 var(--bank);letter-spacing:.08em;margin:0 0 6px;color:var(--accent)}
    .link p{font-size:12px;color:var(--muted);margin:0}
    .link:focus-visible{outline:none;box-shadow:var(--ring)}
    .link .glaze{
      position:absolute;inset:0;background:radial-gradient(1200px 400px at -10% -10%,rgba(139,0,0,.12),transparent 60%);
      pointer-events:none
    }

    .rail .section-title{margin:20px 4px 6px;font:600 12px/1 var(--bank);letter-spacing:.15em;color:var(--muted);text-transform:uppercase}

    /* CENTER HERO (DNA CANVAS) */
    .hero{
      position:relative; min-height:100vh; display:flex; align-items:center; justify-content:center;
      padding:48px 18px;
    }
    .hero-inner{
      position:relative; width:min(1100px,92%); height:100%; display:grid; place-items:center;
    }
    /* The DNA canvas sits on top center */
    #dnaCanvas{
      position:absolute; inset:0; margin:auto; width:min(34vw,520px); height:72vh; max-height:760px;
      filter: drop-shadow(0 6px 50px rgba(255,255,255,.06));
      pointer-events:none;
      z-index:2;
    }
    /* Cursor orbit canvas covers viewport but doesn't block click */
    #orbitCanvas{
      position:fixed; inset:0; pointer-events:none; z-index:5;
    }

    /* RIGHT PANEL: PHOTO + BIO + QUICK CONTROLS */
    .panel{
      position:sticky; top:0; align-self:start; height:100vh;
      border-left:1px solid var(--line);
      background:linear-gradient(180deg,var(--panel-2),var(--panel));
      padding:24px 40px 24px 20px; display:flex; flex-direction:column; gap:16px; overflow:auto;
      min-width: 350px; /* adjust until the bio looks comfortable */
      flex: 1.2; /* prevents it from shrinking smaller */
      margin-left: -20px; /* shift panel content left */
    }

    
    .headshot{
      width:100%; aspect-ratio:3/4; border-radius:var(--radius);
      border:1px solid var(--line); background:#0c0d0f url('nerd.jpg') center/cover no-repeat;  
      box-shadow:var(--shadow);
    }
    .bio{
      background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.15));
      border:1px solid var(--line); border-radius:var(--radius);
      padding:16px 14px;
      color:var(--ink);
    }
    .bio h2{font:600 16px/1.2 var(--bank); letter-spacing:.12em; margin:0 0 8px; color:var(--accent)}
    .bio p{margin:0; font:400 13.5px/1.6 var(--body); color:var(--muted)}

    .controls{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      background:linear-gradient(180deg,rgba(139,0,0,.12),rgba(139,0,0,.06));
      border:1px solid var(--line); color:var(--accent);
      padding:10px 12px; border-radius:var(--radius-xs); cursor:pointer;
      font:600 12px/1 var(--bank); letter-spacing:.08em; text-transform:uppercase;
      transition:transform var(--trans), background var(--trans), border-color var(--trans);
    }
    .btn:hover{transform:translateY(-1px);border-color:rgba(139,0,0,.5)}
    .btn:focus-visible{outline:none;box-shadow:var(--ring)}
    .btn.alt{background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(0,0,0,.05));color:var(--ink)}

    /* MAIN SECTIONS BELOW HERO */
    main{position:relative; z-index:1}
    section{
      padding:80px 18px; border-top:1px solid var(--line);
      background:linear-gradient(180deg,transparent,rgba(255,255,255,.01) 20%,transparent);
    }
    .wrap{max-width:1100px; margin:0 auto}
    .section-head{display:flex; align-items:baseline; justify-content:space-between; gap:16px; margin-bottom:22px}
    .section-head h2{font:600 18px/1 var(--bank); letter-spacing:.12em; color:var(--accent); margin:0}
    .section-head p{margin:0; font:400 13.5px/1.6 var(--body); color:var(--muted)}

    /* GRID EXAMPLES */
    .cards{
      display:grid; grid-template-columns:repeat(12,1fr); gap:16px;
    }
    .card{
      grid-column: span 6;
      background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.08));
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:16px;
      transition:transform var(--trans), border-color var(--trans), background var(--trans);
    }
    .card:hover{transform:translateY(-2px);border-color:rgba(139,0,0,.45)}
    .card h3{font:600 14px/1.3 var(--bank); letter-spacing:.08em; color:var(--accent); margin:0 0 8px}
    .card p{margin:0;color:var(--muted);font-size:13.5px}

    /* TESTIMONIALS */
    .testis{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .quote{
      grid-column: span 6;
      background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.08));
      border:1px solid var(--line); border-radius:var(--radius);
      padding:18px; color:var(--ink); position:relative
    }
    .quote::before{
      content:"“"; position:absolute; top:-12px; left:12px; color:var(--accent); font:900 44px/0 var(--bank);
      opacity:.4
    }
    .quote .by{margin-top:8px; color:var(--muted); font-size:12.5px}

    /* FOOTER */
    footer{border-top:1px solid var(--line); padding:26px 18px; color:var(--muted)}
    .footer-wrap{max-width:1100px; margin:0 auto; display:flex; flex-wrap:wrap; gap:10px; justify-content:space-between; align-items:center}
    .kbd{font-family:var(--mono);font-size:12px;padding:2px 6px;border:1px solid var(--line);border-radius:6px;background:rgba(255,255,255,.03)}

    /* HEADINGS & TYPOGRAPHY */
    .h-xl{font:700 54px/1.02 var(--bank); letter-spacing:.06em; color:var(--accent); text-align:center; margin:20px 0 8px}
    .h-sub{font:400 14px/1.6 var(--body); color:var(--muted); text-align:center; max-width:720px; margin:0 auto 10px}

    /* ACCESSIBILITY: focus ring + skip link */
    .skip{
      position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden
    }
    .skip:focus{
      left:18px; top:18px; z-index:999; background:var(--panel); color:var(--ink);
      padding:8px 10px; border-radius:8px; border:1px solid var(--line)
    }

    /* RESPONSIVE */
    @media (max-width:1100px){
      .frame{
        grid-template-columns: 1fr; grid-template-rows:auto auto auto; gap:0
      }
      .rail,.panel{position:relative; height:auto; border:none; border-top:1px solid var(--line); border-bottom:1px solid var(--line)}
      #dnaCanvas{position:relative; width:min(80vw,560px); height:60vh}
      .hero{padding:28px 12px}
    }

    @media (max-width:720px){
      .cards .card, .testis .quote{grid-column:1 / -1}
      .brand h1{font-size:16px}
      .h-xl{font-size:34px}
    }

    /* Reduced Motion */
    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
    }
  </style>
</head>
<body data-theme="dark">
  <a class="skip" href="#main">Skip to content</a>

  <!-- Orbit Canvas: binary circle that follows the cursor -->
  <canvas id="orbitCanvas" aria-hidden="true"></canvas>

  <div class="frame">
    <!-- LEFT RAIL: URL blocks (your links) -->
    <aside class="rail" aria-label="Primary links">
      <div class="brand" aria-label="Site brand">
        <div class="dot" aria-hidden="true"></div>
        <h1>MY HUB</h1>
      </div>
      <p class="hint">Quick links</p>

      <nav class="links">
        <!-- Replace URLs with your own -->
        <a class="link" href="https://www.linkedin.com/in/n%CF%86x1r-%E2%88%86ssa-901750289/" target="_blank" rel="noopener">
          <h3>LinkedIn</h3>
          <p>Professional profile &amp; network</p>
          <span class="glaze" aria-hidden="true"></span>
        </a>
        <a class="link" href="https://github.com/KazamaDono" target="_blank" rel="noopener">
          <h3>GitHub</h3>
          <p>Code, projects &amp; OSS</p>
          <span class="glaze" aria-hidden="true"></span>
        </a>
        <a class="link" href="https://orcid.org/0009-0000-7507-8660" target="_blank" rel="noopener">
          <h3>ORCID</h3>
          <p>Publications &amp; research</p>
          <span class="glaze" aria-hidden="true"></span>
        </a>
        <a class="link" href="https://medium.com/@delta_core" target="_blank" rel="noopener">
          <h3>Medium</h3>
          <p>Articles &amp; writeups</p>
          <span class="glaze" aria-hidden="true"></span>
        </a>
        <a class="link" href="https://discord.gg/wx6xXVGE6g" target="_blank" rel="noopener">
          <h3>Discord</h3>
          <p>Chat &amp; collaboration</p>
          <span class="glaze" aria-hidden="true"></span>
        </a>
      </nav>

      <p class="section-title">Navigate</p>
      <nav class="links">
        <a class="link" href="#about"><h3>About</h3><p>Who I am</p><span class="glaze"></span></a>
        <a class="link" href="#projects"><h3>Projects</h3><p>What I’m building</p><span class="glaze"></span></a>
        <a class="link" href="#testimonials"><h3>Testimonials</h3><p>What people say</p><span class="glaze"></span></a>
        <a class="link" href="#contact"><h3>Contact</h3><p>Say hello</p><span class="glaze"></span></a>
      </nav>
    </aside>

    <!-- CENTER HERO: Binary DNA canvas and headings -->
<section class="hero" id="home" aria-label="Hero">
  <div class="hero-inner">
    <h2 class="h-xl" id="typingHeading"></h2>
    <p class="h-sub">
      Hello! I’m Nour Issa, a hacker and Computer Security Researcher. This hub is a collection of my links, projects, and online presence. Explore and connect!
    </p>
    <canvas id="dnaCanvas" role="img" aria-label="Animated binary DNA helix"></canvas>
  </div>
</section>

<style>
  /* Blinking underscore effect */
  #typingHeading::after {
    content: "_";
    animation: blink 0.7s step-start infinite;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }
</style>

<script>
  const text = "WELCOME TO MY HUB";
  const heading = document.getElementById("typingHeading");
  let index = 0;

  function typeEffect() {
    if (index < text.length) {
      heading.textContent += text.charAt(index);
      index++;
      setTimeout(typeEffect, 100); // Adjust typing speed here
    }
  }

  // Start typing when page loads
  window.addEventListener("DOMContentLoaded", typeEffect);
</script>



    <!-- RIGHT PANEL: Photo + Bio + Controls -->
    <aside class="panel" aria-label="Profile">
      <div class="headshot" aria-label="Profile photo area"></div>
      <div class="bio">
        <h2>Spectra VRG</h2>
        <p>A central place for my work, research, and things I'm exploring — with a living strand of binary spiraling upward.</p>
      </div>
      
      <div class="controls" aria-label="Quick controls">
        <button class="btn" id="themeToggle" type="button" aria-pressed="false">Toggle Theme</button>
        <button class="btn alt" id="reduceMotionToggle" type="button" aria-pressed="false">Reduce Motion</button>
      </div>

      <div class="bio" style="margin-top:auto">
        <h2>Shortcuts</h2>
        <p>
          <span class="kbd">G</span> Go to GitHub &nbsp;•&nbsp;
          <span class="kbd">L</span> Go to LinkedIn &nbsp;•&nbsp;
          <span class="kbd">/</span> Scroll to About
        </p>
      </div>
    </aside>
  </div>

  <!-- MAIN CONTENT -->
  <main id="main">
    <section id="about" aria-labelledby="about-title">
      <div class="wrap">
        <div class="section-head">
          <h2 id="about-title">About</h2>
          <p>Background, interests, and how I approach work.</p>
        </div>
        <div class="cards">
          <article class="card">
            <h3>Focus Areas</h3>
            <p>Vulnerability research, reverse engineering, secure tooling, and adversarial simulation.</p>
          </article>
          <article class="card">
            <h3>What I Value</h3>
            <p>Clarity in write-ups, reproducible research, mentorship, and shipping pragmatic results.</p>
          </article>
          <article class="card">
            <h3>Recent Read</h3>
            <p>Systems security &amp; memory corruption case studies — notes coming soon.</p>
          </article>
          <article class="card">
            <h3>Toolbox</h3>
            <p>Python, C, GBD, WinDbg, Windows internals, Burpsuite, Mentiforce, AI.</p>
          </article>
        </div>

    <div class="wrap">
        <h2>About Me</h2>

        <p>I am a self-learned researcher and hacker, beginning my journey back in 2022. Since then, I've been learning and practicing as much as I can and will continue with the hopes of becoming great at what I do.</p>

        <p>Building on this journey, I founded and lead the Spectra Vulnerability Research Group, where I apply my hands-on experience to offensive security and adversarial machine learning. Current work examines exploit development, malware design, and the integration of AI/ML into offensive capabilities — particularly how state-sponsored actors (APTs) leverage adversarial AI to refine intrusion methods, automate disinformation, and scale cyber operations.</p>

        <p>Research extends into Neuropsychosocial Engineering, a developing framework on how AI-driven technologies reshape cognition, perception, and social behavior. This approach connects low-level technical exploitation with the broader human impact of emerging technologies.</p>

        <p>Experience includes supporting criminal investigations through cyber intelligence analysis, threat hunting, and counterintelligence tasks, as well as contributing written research and commentary to the wider cybersecurity community. Past work spans vulnerability discovery, exploit chaining, malware development, and adversary emulation, with a long-term focus on understanding not only where systems break — but how those breaks affect human resilience.</p>


      </div>
      </div>
    </section>

    <section id="projects" aria-labelledby="projects-title">
      <div class="wrap">
        <div class="section-head">
          <h2 id="projects-title">Upcoming Projects</h2>
          <p>A glimpse at what’s on my bench.</p>
        </div>
        <div class="cards">
        <article class="card">
            <h3>DeepFake Technology Research Journal</h3>
            <p>A comrpehensive outlook to how deepfake technology will become the epitome of propaganda and social turmoil.</p>
          </article>
          <article class="card">
            <h3>Binary Trace Visualizer</h3>
            <p>Interactive visualization for syscall &amp; IPC flows with exportable graphs.</p>
          </article>
          <article class="card">
            <h3>Firmware Sandbox</h3>
            <p>Emulated testbed for quick fuzz + diff testing across versions.</p>
          </article>
          <article class="card">
            <h3>Exploit Dev Notes</h3>
            <p>Modern ROP/JOP chains index with tagged patterns, templates, and pitfalls.</p>
          </article>
          <article class="card">
            <h3>Malware Zoo (Safe)</h3>
            <p>Static artifacts for education; automated detonation reports (no live samples).</p>
          </article>
          <article class="card">
            <h3>Custom Shellcode Encoder & Decoder</h3>
            <p>A robust shellcode encoder and decoder framework designed to obfuscate payloads and bypass signature-based detection.</p>
          </article>
        </div>
      </div>
      
    <style>
          /* Add a healthy gap between the two project groups */
        #projects .wrap + .wrap {
            margin-top: 4rem; /* adjust as needed for more or less space */
            }
    </style>

    <style>
        #projects .wrap:last-of-type {
            margin-top: 4rem;
            }
        </style>

      <div class="wrap">
        <div class="section-head">
          <h2 id="projects-title">Completed Projects</h2>  <!------------------------------ Checkpoint ----------------------------->
          <p>A collection of past projects & research.</p>
        </div>
        <div class="cards">
          <article class="card">
            <h3>Sentinel</h3>
            <p>Sentinel is a defensive, cross-platform host monitoring tool that collects runtime state (processes, listeners, outbound connections, services, autoruns), compares to a saved baseline, and surfaces suspicious changes with severity scoring and a spinner-style CLI UI.</p>
          </article>
          <article class="card">
            <h3>PocketVault</h3>
            <p>A fast, USB-friendly GUI tool for encrypting and decrypting your own files. Combines a static passcode + ephemeral session/auth code + a Fernet secret.key to ensure only authorized users can decrypt.</p>
          </article>
          <article class="card">
            <h3>Exploit Dev Notes & Learning Framework</h3>
            <p>A Systematic approach housing resouces and learning material for the aspiring exploit developer in a unqiue RPG style.</p>
          </article>
          <article class="card">
            <h3>Python to Exe Converter</h3>
            <p>A Python program that converts any Python .py file into a standalone Windows executable (.exe).</p>
          </article>
          <article class="card">
            <h3>Exploiting Android MMI for OTP Interception</h3>
            <p>Researched Android MMI functionality to identify security gaps exploitable through targeted social engineering. In a controlled lab environment, simulated exploit chains capable of redirecting SMS and calls to demonstrate OTP interception risks for social media authentication. Findings underscored weaknesses in mobile communication systems and informed defensive strategies against MFA bypass techniques.</p>
          </article>
          <article class="card">
            <h3>IoT Surveillance Exploitation Framework</h3>
            <p>Developed a research framework combining OSINT and targeted network reconnaissance to uncover systemic IoT and IP camera vulnerabilities.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="testimonials" aria-labelledby="testimonials-title">
      <div class="wrap">
        <div class="section-head">
          <h2 id="testimonials-title">Testimonials</h2>
          <p>What collaborators and clients have said.</p>
        </div>
        <div class="testis">
          <blockquote class="quote">
            “Consistently turns deep analysis into actionable outcomes — fast.”
            <div class="by">— Lead Eng., Product Security</div>
          </blockquote>
          <blockquote class="quote">
            “Thoughtful, rigorous, and generous with knowledge. Great partner on tough problems.”
            <div class="by">— Research Manager</div>
          </blockquote>
          <blockquote class="quote">
            “Pragmatic mindset. Knows when ‘good enough’ is the right answer.”
            <div class="by">— Senior Platform Engineer</div>
          </blockquote>
          <blockquote class="quote">
            “Clear write-ups that make complex ideas digestible.”
            <div class="by">— Security Architect</div>
          </blockquote>
        </div>
      </div>
    </section>

    <section id="contact" aria-labelledby="contact-title">
      <div class="wrap">
        <div class="section-head">
          <h2 id="contact-title">Contact</h2>
          <p>Reach out if you want to collaborate.</p>
        </div>
        <div class="cards">
          <article class="card">
            <h3>Direct</h3>
            <p>Email: <a href="mailto:spectra_vrg@protonmail.com" style="color:var(--accent)">spectra_vrg@protonmail.com</a></p>
          </article>
          <article class="card">
            <h3>PGP</h3>
            <p>Fingerprint: <code style="font-family:var(--mono)">dfc4dac57ddc62cc1275ad22965c7bae3e4cb7a1</code></p>
          </article>
          <article class="card">
            <h3>Office Hours</h3>
            <p>Just ping me on LinkedIn.</p>
          </article>
          <article class="card">
            <h3>Consulting</h3>
            <p>Not at the moment but soon!</p>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="footer-wrap">
      <div>© <span id="year"></span> • Spectra Vulnerability Research Group.</div>
      <div>Keyboard: <span class="kbd">G</span> GitHub • <span class="kbd">L</span> LinkedIn • <span class="kbd">/</span> About</div>
    </div>
  </footer>

  <script>
    /* ===========================================================
       JS UTILITIES
       =========================================================== */
    const qs = (s, el=document) => el.querySelector(s);
    const qsa = (s, el=document) => [...el.querySelectorAll(s)];
    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));
    const lerp = (a,b,t) => a + (b-a)*t;

    const prefersReduced = () => window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    let reducedMotion = prefersReduced();

    const on = (el, ev, fn, opts) => el.addEventListener(ev, fn, opts);
    const $year = qs('#year'); $year.textContent = new Date().getFullYear();

    // Simple throttle
    const throttle = (fn, wait=100) => {
      let t=0; return (...args)=>{ const now=performance.now(); if(now-t>=wait){ t=now; fn(...args);} };
    };

    // Theme toggle
    const themeToggle = qs('#themeToggle');
    const reduceMotionToggle = qs('#reduceMotionToggle');
    const applyTheme = (mode) => document.body.setAttribute('data-theme', mode);
    const getTheme = () => document.body.getAttribute('data-theme') || 'dark';

    on(themeToggle,'click', ()=>{
      const next = getTheme() === 'dark' ? 'light' : 'dark';
      applyTheme(next);
      themeToggle.setAttribute('aria-pressed', String(next==='light'));
    });

    on(reduceMotionToggle,'click', ()=>{
      reducedMotion = !reducedMotion;
      reduceMotionToggle.setAttribute('aria-pressed', String(reducedMotion));
    });

    // Keyboard shortcuts
    on(window,'keydown',(e)=>{
      if (e.key==='g' || e.key==='G') window.open('https://github.com/KazamaDono','_blank','noopener');
      if (e.key==='l' || e.key==='L') window.open('https://www.linkedin.com/in/n%CF%86x1r-%E2%88%86ssa-901750289/','_blank','noopener');
      if (e.key==='/') { e.preventDefault(); qs('#about')?.scrollIntoView({behavior:'smooth'}); }
    });

    /* ===========================================================
       CANVAS 1: Binary DNA Double Helix
       - Two strands (phase-shifted sine curves)
       - Perspective-ish depth (z-based size/alpha)
       - Upward scroll with continuous wrap
       - Characters flip 0 <-> 1 over time
       =========================================================== */
    const dnaCanvas = qs('#dnaCanvas');
    const dnaCtx = dnaCanvas.getContext('2d', { alpha: true });

    
    let dna = {
      w: 400, h: 600,
      t: 0,
      // Strand geometry
      amplitude: 90,          // horizontal spread
      verticalGap: 26,        // vertical distance between rungs
      angularFreq: 0.045,     // wave frequency
      scrollSpeed: 0.6,       // upward speed
      baseFont: 18,
      depthPerspective: 0.75, // 0..1: how strong to scale alpha/size by depth
      centerX: 0,
      centerY: 0,
      bitsPool: ['0','1'],
      flipProb: 0.08          // chance each frame to flip a given bit
    };





    function resizeDna(){
      const rect = dnaCanvas.getBoundingClientRect();
      dna.w = dnaCanvas.width = Math.max(320, Math.floor(rect.width * devicePixelRatio));
      dna.h = dnaCanvas.height = Math.max(420, Math.floor(rect.height * devicePixelRatio));
      dna.centerX = dna.w/2;
      dna.centerY = dna.h/2;
      dnaCtx.setTransform(1,0,0,1,0,0);
      dnaCtx.scale(devicePixelRatio, devicePixelRatio);
    }

    // Build a buffer of rows that we recycle for endless scroll
    const helixRows = [];
    function initHelix(){
      helixRows.length = 0;
      const extraRows = 10; 
      const rowsNeeded = Math.ceil((dnaCanvas.clientHeight / dna.verticalGap) + extraRows);
      for(let i=0;i<rowsNeeded;i++){
        helixRows.push({
          y: i * dna.verticalGap,
          // left/right bits with random start
          l: Math.random()<.5?'0':'1',
          r: Math.random()<.5?'0':'1',
          // a small per-row phase tweak to add organic feel
          jitter: Math.random() * Math.PI * 2
        });
      }
    }


    
    function drawDnaFrame(){
      const ctx = dnaCtx;
      const { w, h, centerX, verticalGap, amplitude, angularFreq, depthPerspective, baseFont, bitsPool, flipProb } = dna;

      // Clear
      ctx.clearRect(0,0,w,h);

      // Update rows (scroll upward)
      const dy = reducedMotion ? 0 : dna.scrollSpeed;
      for(let row of helixRows){
        row.y -= dy;
        if(row.y < -verticalGap*2){
          // Recycle to the bottom
          row.y += (helixRows.length * verticalGap);
          // flip sometimes on recycle
          row.l = (row.l==='0')?'1':'0';
          row.r = (row.r==='0')?'1':'0';
        }
        // Randomly flip bits over time to feel "alive"
        if(!reducedMotion && Math.random() < flipProb){
          if(Math.random()<0.5){ row.l = (row.l==='0')?'1':'0'; } else { row.r = (row.r==='0')?'1':'0'; }
        }
      }

      // Animate time phase to twist strands (sine param)
      if(!reducedMotion) dna.t += 0.8;

      // Draw back-to-front to hint at depth:
      // param 'phase' uses row.y and dna.t to compute left/right x, plus a z-depth for alpha/size
      for(let pass=0; pass<2; pass++){ // pass 0: back; pass 1: front
        for(let i=0;i<helixRows.length;i++){
          const row = helixRows[i];
          const y = row.y;

          // 3D-ish param via cosine to simulate z (front/back switch every half-wave)
          const angle = (y + dna.t + row.jitter) * angularFreq;
          const z = (Math.cos(angle) + 1) / 2;  // 0..1 (0 = far/back, 1 = front)

          const xLeft  = centerX + Math.sin(angle) * amplitude * -1;
          const xRight = centerX + Math.sin(angle + Math.PI) * amplitude * -1;

          // Determine which pass this rung should be drawn in (based on z)
          const isFront = z > 0.5;
          if((pass===0 && isFront) || (pass===1 && !isFront)) continue;

          // Alpha + size scale by depth
          const alpha = lerp(0.25, 1.0, z * depthPerspective);
          const fontSize = Math.max(10, baseFont * lerp(0.72, 1.0, z * depthPerspective));

          // Connector 'ladder' with faint line
          dnaCtx.globalAlpha = Math.max(0.15, alpha * 0.45);
          ctx.strokeStyle = 'rgba(200,200,205,0.25)';
          ctx.lineWidth = Math.max(1, 1.25 * (z*depthPerspective + 0.4));
          ctx.beginPath();
          ctx.moveTo(xLeft,  y);
          ctx.lineTo(xRight, y);
          ctx.stroke();

          // Bits (left/right)
          dnaCtx.globalAlpha = alpha;
          ctx.fillStyle = 'rgb(215,215,220)'; // ultra light grey

          ctx.font = `${fontSize}px ${getComputedStyle(document.documentElement).getPropertyValue('--mono') || 'monospace'}`;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';

          ctx.fillText(row.l, xLeft,  y);
          ctx.fillText(row.r, xRight, y);
        }
      }
      dnaCtx.globalAlpha = 1;

      requestAnimationFrame(drawDnaFrame);
    }

    // Init DNA canvas
    const initDna = () => { resizeDna(); initHelix(); drawDnaFrame(); }
    on(window,'resize', throttle(()=>{ resizeDna(); initHelix(); }, 100));
    initDna();

    /* ===========================================================
       CANVAS 2: Cursor-Orbiting Binary Ring
       - Follows mouse
       - Ring consists of multiple glyphs that rotate
       - Each glyph flips randomly 0 <-> 1
       =========================================================== */
    const orbitCanvas = qs('#orbitCanvas');
    const orbitCtx = orbitCanvas.getContext('2d', { alpha:true });

    let orbit = {
      w: 0, h: 0,
      cx: innerWidth/2, cy: innerHeight/2,
      radius: 70,
      glyphs: 28,
      baseFont: 16,
      rot: 0,
      rotSpeed: 0.015,       // radians per frame
      flipProb: 0.05
    };

    function resizeOrbit(){
      orbit.w = orbitCanvas.width = Math.max(320, Math.floor(innerWidth * devicePixelRatio));
      orbit.h = orbitCanvas.height = Math.max(320, Math.floor(innerHeight * devicePixelRatio));
      orbitCtx.setTransform(1,0,0,1,0,0);
      orbitCtx.scale(devicePixelRatio, devicePixelRatio);
    }
    resizeOrbit();
    on(window,'resize', throttle(resizeOrbit, 100));

    // Mouse tracking
    let targetX = innerWidth/2, targetY = innerHeight/2;
    on(window,'mousemove', e=>{
      targetX = e.clientX; targetY = e.clientY;
    });

    // Smooth follow
    function updateCenter(){
      // ease follow unless reduced motion
      const ease = reducedMotion ? 1 : 0.16;
      orbit.cx = lerp(orbit.cx, targetX, ease);
      orbit.cy = lerp(orbit.cy, targetY, ease);
    }

    // Build ring state
    const ring = [];
    for(let i=0;i<orbit.glyphs;i++){
      ring.push({
        ch: Math.random()<.5?'0':'1',
        a: (i/orbit.glyphs)*Math.PI*2
      });
    }

    function drawOrbit(){
      const ctx = orbitCtx;
      ctx.clearRect(0,0,orbit.w,orbit.h);

      updateCenter();
      if(!reducedMotion) orbit.rot += orbit.rotSpeed;

      ctx.save();
      ctx.translate(orbit.cx * devicePixelRatio, orbit.cy * devicePixelRatio); // already scaled; adjust pos
      ctx.scale(1/devicePixelRatio, 1/devicePixelRatio); // cancel double scaling for local drawing
      ctx.translate(0,0);

      // ring
      for(let i=0;i<ring.length;i++){
        const g = ring[i];
        // Random flip
        if(!reducedMotion && Math.random()<orbit.flipProb){
          g.ch = g.ch==='0'?'1':'0';
        }

        const angle = g.a + orbit.rot;
        const x = Math.cos(angle) * orbit.radius;
        const y = Math.sin(angle) * orbit.radius;

        ctx.font = `${orbit.baseFont}px ${getComputedStyle(document.documentElement).getPropertyValue('--mono') || 'monospace'}`;
        ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
        ctx.fillStyle = 'rgba(139,0,0,.95)'; // crimson
        ctx.fillText(g.ch, x, y);
      }

      ctx.restore();
      requestAnimationFrame(drawOrbit);
    }
    drawOrbit();

    /* ===========================================================
       INTERSECTION OBSERVERS (reveal on scroll)
       =========================================================== */
    const inViewObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.style.transform = 'translateY(0)';
          entry.target.style.opacity = '1';
          inViewObserver.unobserve(entry.target);
        }
      });
    },{root:null,threshold:.12});

    qsa('.card, .quote').forEach(el=>{
      el.style.transform = 'translateY(12px)';
      el.style.opacity = '0';
      el.style.transition = 'transform 500ms cubic-bezier(.2,.7,.2,1), opacity 500ms';
      inViewObserver.observe(el);
    });

    /* ===========================================================
       ACCESSIBILITY HELPERS
       =========================================================== */
    // Respect reduced motion toggle live
    on(window,'keydown', (e)=>{
      if(e.key==='m' || e.key==='M'){
        reducedMotion = !reducedMotion;
        reduceMotionToggle.setAttribute('aria-pressed', String(reducedMotion));
      }
    });

    // Avoid text selection during heavy mouse move
    on(window,'mousedown', ()=>document.body.style.userSelect='none');
    on(window,'mouseup', ()=>document.body.style.userSelect='auto');

    // Prevent accidental drag ghost image
    qsa('a,button').forEach(el=> on(el,'dragstart', e=> e.preventDefault()));

    // Scroll helpers
    qsa('a[href^="#"]').forEach(a=>{
      on(a,'click', (e)=>{
        const id = a.getAttribute('href').slice(1);
        const el = qs('#'+id);
        if(el){
          e.preventDefault();
          el.scrollIntoView({behavior:'smooth', block:'start'});
        }
      });
    });

    // Resize bars when mobile to recalc DNA grid
    let sizeObserver;
    const observeDna = ()=>{
      if(sizeObserver) sizeObserver.disconnect();
      sizeObserver = new ResizeObserver(throttle(()=>{ resizeDna(); initHelix(); }, 100));
      sizeObserver.observe(dnaCanvas);
    };
    observeDna();
  </script>
</body>
</html>
